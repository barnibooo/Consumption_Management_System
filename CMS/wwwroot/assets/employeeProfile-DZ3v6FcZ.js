import{d as c,r,j as e,e as x,T as a,h as p,f as g}from"./AuthService-D1aEyyWh.js";import{r as h,p as s,N as f}from"./RefreshService-BkjTwjQ-.js";import{T as u}from"./ThemeProvider-DseDVMsF.js";import{C as k}from"./Card-CQ9FsSn_.js";import{C as T}from"./CardMedia-D7Asrf_x.js";import{C as j}from"./CardContent-CoE-aqRQ.js";const y=c({palette:{mode:"dark"}}),i=document.createElement("style");i.textContent=`
  body {
    background-color: #0f1827;
    color: #d5d6d6;
    margin: 0;
    padding: 0;
  }
`;document.head.appendChild(i);function C(){const[t,l]=r.useState(null),[d,m]=r.useState(!0);return r.useEffect(()=>{(async()=>{if(!await p()){window.location.href="/login";return}if(await h()){const n=localStorage.getItem("token");if(n){const o=s(n);o&&l({firstName:o.FirstName,lastName:o.LastName,username:o.Username,role:o.role})}}m(!1)})()},[]),d?e.jsx("div",{children:"Loading..."}):e.jsx(x,{sx:{display:"flex",flexDirection:"column",height:"100vh",padding:2,alignItems:"center"},children:e.jsx(u,{theme:y,children:e.jsxs(k,{sx:{bgcolor:"#202938",color:"#d5d6d6",width:{xs:"100%",sm:"70%",md:"60%",lg:"50%",xl:"40%"},marginTop:2},children:[e.jsx(T,{component:"img",height:"194",image:"/img/profile/profile_temp.png"}),e.jsxs(j,{children:[e.jsx(a,{variant:"h5",sx:{color:"text.secondary",marginTop:"10px",marginBottom:"10px",textIndent:"20px",fontWeight:500,textAlign:"center"},children:t?`${t.lastName} ${t.firstName}`:"Hiba a lekérés során!"}),e.jsx(a,{variant:"h6",sx:{color:"text.secondary",marginTop:"10px",marginBottom:"10px",textIndent:"20px",fontWeight:300,textAlign:"center"},children:"Beosztás: "+(t==null?void 0:t.role)})]})]})})})}const E=s(localStorage.getItem("token")).role;g.createRoot(document.getElementById("root")).render(e.jsxs(e.Fragment,{children:[e.jsx(f,{role:E}),e.jsx(C,{})]}));
