import{g as C,a as w,r as a,u as b,j as e,s as f,c as x,b as R,B as v,m as y,d as T,e as o,T as S,f as z,h as V}from"./AuthService-D1aEyyWh.js";/* empty css              */import{p as A,N as H,r as E}from"./RefreshService-BkjTwjQ-.js";import{T as I}from"./ThemeProvider-DseDVMsF.js";import{C as l}from"./Card-CQ9FsSn_.js";import{C as N}from"./CardMedia-D7Asrf_x.js";import{S as U,A as F}from"./Snackbar-D43d_GBE.js";function W(t){return w("MuiCardActionArea",t)}const p=C("MuiCardActionArea",["root","focusVisible","focusHighlight"]),L=t=>{const{classes:s}=t;return R({root:["root"],focusHighlight:["focusHighlight"]},W,s)},M=f(v,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,s)=>s.root})(y(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${p.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${p.focusVisible} .${p.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}}))),_=f("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,s)=>s.focusHighlight})(y(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}))),B=a.forwardRef(function(s,i){const r=b({props:s,name:"MuiCardActionArea"}),{children:d,className:n,focusVisibleClassName:g,...h}=r,u=r,m=L(u);return e.jsxs(M,{className:x(m.root,n),focusVisibleClassName:x(g,m.focusVisible),ref:i,ownerState:u,...h,children:[d,e.jsx(_,{className:m.focusHighlight,ownerState:u})]})}),$=T({palette:{mode:"dark"},typography:{fontFamily:"Roboto, sans-serif"}}),j=document.createElement("style");j.textContent=`
  body {
    background-color: #0f1827;
    color: #d5d6d6;
    margin: 0;
    padding: 0;
  }
`;document.head.appendChild(j);const c=(t,s,i)=>e.jsx(B,{onClick:()=>window.location.href=i,children:e.jsxs(o,{sx:{position:"relative"},children:[e.jsx(N,{component:"img",height:"300",image:t,alt:s,sx:{width:"100%",height:{xs:"200px",sm:"250px",md:"300px"},objectFit:"cover"}}),e.jsx(S,{variant:"h2",component:"div",fontFamily:"Roboto, sans-serif",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",opacity:0,transition:"opacity 0.3s","&:hover":{opacity:1}},children:s})]})});function J(){const[t,s]=a.useState(null),[i,r]=a.useState(!0);return a.useEffect(()=>{(async()=>{const n=localStorage.getItem("token");if(n){const g=A(n);s(g.role),r(!1)}})()},[]),i?null:e.jsx(e.Fragment,{children:e.jsx(I,{theme:$,children:e.jsxs(o,{display:"flex",flexWrap:"wrap",justifyContent:"center",sx:{mt:4,mb:4,width:"100%"},children:[t==="Admin"||t==="TicketAssistant"?e.jsx(o,{sx:{width:{xs:"100%",sm:"80%",md:"60%",lg:"45%",xl:"35%"},p:1},children:e.jsx(l,{sx:{maxWidth:"100%",height:"auto"},children:c("/img/landing/ticket_temp.png","Jegyértékesítés","ticket")})}):null,t==="Admin"||t==="TicketAssistant"||t==="RestaurantAssistant"?e.jsx(o,{sx:{width:{xs:"100%",sm:"80%",md:"60%",lg:"45%",xl:"35%"},p:1},children:e.jsx(l,{sx:{maxWidth:"100%",height:"auto"},children:c("/img/landing/ticketcheck_temp.png","Jegyellenőrzés","ticketValidation")})}):null,t==="Admin"?e.jsx(o,{sx:{width:{xs:"100%",sm:"80%",md:"60%",lg:"45%",xl:"35%"},p:1},children:e.jsx(l,{sx:{maxWidth:"100%",height:"auto"},children:c("/img/landing/registration_temp.png","Regisztráció","registration")})}):null,t==="Admin"?e.jsx(o,{sx:{width:{xs:"100%",sm:"80%",md:"60%",lg:"45%",xl:"35%"},p:1},children:e.jsx(l,{sx:{maxWidth:"100%",height:"auto"},children:c("/img/landing/daily_temp.png","Napi ajánlat kezelő","dailyspecials")})}):null,t==="Admin"||t==="RestaurantAssistant"?e.jsx(o,{sx:{width:{xs:"100%",sm:"80%",md:"60%",lg:"45%",xl:"35%"},p:1},children:e.jsx(l,{sx:{maxWidth:"100%",height:"auto"},children:c("/img/landing/restaurant_temp.png","Étterem","order")})}):null,t==="Admin"||t==="TicketAssistant"?e.jsx(o,{sx:{width:{xs:"100%",sm:"80%",md:"60%",lg:"45%",xl:"35%"},p:1},children:e.jsx(l,{sx:{maxWidth:"100%",height:"auto"},children:c("/img/landing/checkout_temp.png","Véglegesítés","checkout")})}):null]})})})}const D=()=>{const[t,s]=a.useState(null),[i,r]=a.useState(!0),[d,n]=a.useState(!1);return a.useEffect(()=>{(async()=>{try{const h=localStorage.getItem("token");if(!h){window.location.href="/login";return}if(!await V()){window.location.href="/login";return}if(!await E()){window.location.href="/login";return}const k=A(h);s(k.role),localStorage.getItem("isUnauthorizedRedirect")==="true"&&(localStorage.removeItem("isUnauthorizedRedirect"),n(!0))}catch{window.location.href="/login"}finally{r(!1)}})()},[]),i?null:e.jsxs(e.Fragment,{children:[e.jsx(H,{role:t||"Guest"}),e.jsx(J,{}),d&&e.jsx(U,{open:d,autoHideDuration:3e3,onClose:()=>n(!1),children:e.jsx(F,{severity:"warning",variant:"filled",sx:{width:"100%"},children:"Az oldal használatához magasabb jogosultság szükséges vagy a kapcsolat megszakadt!"})})]})};z.createRoot(document.getElementById("root")).render(e.jsx(D,{}));
