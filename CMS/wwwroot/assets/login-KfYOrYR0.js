import{n as x,j as e,o as B,r as o,e as w,T as n,I,C as M,h as S,p as z,f as A}from"./AuthService-D1aEyyWh.js";import{u as T}from"./index-qzWsEH3_.js";import{C as L}from"./Card-CQ9FsSn_.js";import{C as F}from"./CardMedia-D7Asrf_x.js";import{C as D}from"./CardContent-CoE-aqRQ.js";import{T as f}from"./TextField-B7QlOAzT.js";import{B as P}from"./Button-CRJhtSgO.js";/* empty css              */import"./Select-Bkp5DD7O.js";const V=x(e.jsx("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login"),E=x(e.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),H=x(e.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");function O(){const b=B(),l=T(b.breakpoints.down("lg")),[m,j]=o.useState(""),[c,v]=o.useState(""),[p,r]=o.useState(""),[i,h]=o.useState(!1),[g,a]=o.useState(!1),[C,d]=o.useState(""),[u,y]=o.useState(!1);o.useEffect(()=>{(async()=>{await S()&&(window.location.href="/")})()},[]);const k=s=>{if(s.preventDefault(),!m||!c){r("Minden mezőt ki kell tölteni!");return}a(!0),r(""),d("Adatok ellenőrzése folyamatban..."),z.post("https://localhost:5000/api/Auth/login",{userName:m,password:c}).then(t=>{t.data.token&&t.data.refreshToken?(localStorage.setItem("token",t.data.token),localStorage.setItem("refreshToken",t.data.refreshToken),a(!1),h(!0),d("Sikeres belépés! Átirányítás folyamatban..."),setTimeout(()=>{window.location.href="/"},1500)):(r("Hiba történt: Érvénytelen válasz a szervertől."),a(!1),d(""))}).catch(t=>{a(!1),h(!1),d(""),t.response&&t.response.status===401?r("Hibás felhasználónév vagy jelszó."):r("Sikertelen kapcsolódás a kiszolgálószerverrel! Próbálja újra később!")})};return e.jsx(w,{sx:{backgroundColor:"#0F1827",display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",minHeight:"100vh"},children:e.jsxs(L,{sx:{color:"#d5d6d6",backgroundColor:"#202938",width:{xs:"95%",sm:"85%",md:"55%",lg:"60%"},height:"auto",display:"flex",flexDirection:l?"column":"row",maxHeight:{xs:"100vh",sm:"none"}},children:[!l&&e.jsx(F,{component:"img",sx:{width:"40%",height:"auto",objectFit:"cover",objectPosition:"right"},image:"/img/main/login_sample.png",alt:"Login sample"}),e.jsxs(D,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:l?"100%":"60%",flex:1,padding:{xs:0,sm:3,md:4},paddingBottom:{xs:2,sm:3,md:4},paddingTop:{xs:2,sm:3,md:4}},children:[e.jsx(n,{gutterBottom:!0,variant:"h5",component:"div",sx:{mr:2,display:{md:"flex"},fontWeight:400,color:"#d5d6d6",textDecoration:"none",marginBottom:2,fontSize:{xs:"1.2rem",sm:"1.5rem"},textAlign:"center"},children:"Consumption Management System"}),e.jsx(n,{gutterBottom:!0,variant:"h2",component:"div",sx:{mr:2,display:{md:"flex"},fontWeight:300,color:"#d5d6d6",textDecoration:"none",marginBottom:2,fontSize:{xs:"2rem",sm:"3rem",md:"3.75rem"},textAlign:"center"},children:"Üdvözöljük!"}),e.jsx(n,{gutterBottom:!0,variant:"h5",component:"div",sx:{mr:2,display:{md:"flex"},fontWeight:300,color:"#d5d6d6",textDecoration:"none",marginBottom:2},children:"Kérjük jelentkezzen be!"}),e.jsxs("form",{onSubmit:k,style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(f,{sx:{width:{xs:"90%",sm:"80%",md:"70%"},height:"Auto","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#d5d6d6"},"&:hover fieldset":{borderColor:"#d5d6d6"},"&.Mui-focused fieldset":{borderColor:"#BFA181"}},"& .MuiInputLabel-root":{color:"#d5d6d6",fontSize:{xs:"0.9rem",sm:"1rem"}},"& .MuiInputLabel-root.Mui-focused":{color:"#BFA181"},"& .MuiInputBase-input":{color:"#d5d6d6",caretColor:"#d5d6d6",padding:{xs:"12px 14px",sm:"16.5px 14px"}},marginBottom:{xs:1,sm:2}},required:!0,id:"outlined-search",label:"Felhasználónév",type:"search",margin:"dense",value:m,onChange:s=>j(s.target.value)}),e.jsx(f,{sx:{width:{xs:"90%",sm:"80%",md:"70%"},height:"Auto","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#d5d6d6"},"&:hover fieldset":{borderColor:"#d5d6d6"},"&.Mui-focused fieldset":{borderColor:"#BFA181"}},"& .MuiInputLabel-root":{color:"#d5d6d6",fontSize:{xs:"0.9rem",sm:"1rem"}},"& .MuiInputLabel-root.Mui-focused":{color:"#BFA181"},"& .MuiInputBase-input":{color:"#d5d6d6",caretColor:"#d5d6d6",padding:{xs:"12px 14px",sm:"16.5px 14px"}},marginBottom:{xs:1,sm:2}},required:!0,id:"outlined-password-input",label:"Jelszó",type:u?"text":"password",autoComplete:"current-password",margin:"dense",value:c,onChange:s=>v(s.target.value),InputProps:{endAdornment:e.jsx(I,{onClick:()=>y(!u),edge:"end",sx:{color:"#d5d6d6"},children:u?e.jsx(H,{}):e.jsx(E,{})})}}),p&&e.jsx(n,{variant:"body2",color:"error",sx:{marginBottom:2,textAlign:"center"},children:p}),(g||i)&&e.jsxs(e.Fragment,{children:[e.jsx(n,{variant:"body2",color:i?"success":"primary",sx:{marginBottom:2,textAlign:"center"},children:C}),e.jsx(M,{sx:{marginBottom:2},color:i?"success":"primary"})]}),!g&&!i&&e.jsx(P,{sx:{width:{xs:"90%",sm:"80%",md:"70%"},height:"Auto",backgroundColor:"#BFA181",marginBottom:{xs:1,sm:2},padding:{xs:"8px",sm:"12px"},fontSize:{xs:"0.9rem",sm:"1rem"},"&:hover":{backgroundColor:"#8B7355"}},variant:"contained",endIcon:e.jsx(V,{}),type:"submit",children:"Belépés"})]})]})]})})}A.createRoot(document.getElementById("root")).render(e.jsx(e.Fragment,{children:e.jsx(O,{})}));
