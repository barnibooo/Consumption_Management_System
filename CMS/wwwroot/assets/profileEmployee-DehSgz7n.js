import{d as c,r,j as e,e as d,T as s,f as x}from"./index-DW2RJM_L.js";import{p as a,N as p}from"./Navbar-BavKYrQN.js";import{r as g}from"./RefreshService-CkshRjuf.js";import{c as f}from"./AuthService-4k0KJGyh.js";import{T as h}from"./ThemeProvider-BqDNcuYG.js";import{C as k}from"./Card-B3esABxY.js";import{C as j}from"./CardMedia-Datqsumh.js";import{C as u}from"./CardContent-BSubk8B7.js";import{C as T}from"./CardActions-CR4ggJcr.js";const C=c({palette:{mode:"dark"}});function N(){const[t,i]=r.useState(null),[m,l]=r.useState(!0);return r.useEffect(()=>{(async()=>{if(!await f()){console.error("Invalid token. Redirecting to login..."),window.location.href="/login";return}if(await g()){const n=localStorage.getItem("token");if(n){const o=a(n);o&&i({firstName:o.FirstName,lastName:o.LastName,username:o.Username,role:o.role})}}l(!1)})()},[]),m?e.jsx("div",{children:"Loading..."}):e.jsx(d,{sx:{display:"flex",flexDirection:"column",height:"100vh",padding:2,alignItems:"center"},children:e.jsx(h,{theme:C,children:e.jsxs(k,{sx:{bgcolor:"#202938",color:"#d5d6d6",width:{xs:"100%",sm:"70%",md:"60%",lg:"50%",xl:"40%"},marginTop:2},children:[e.jsx(j,{component:"img",height:"194",image:"/img/profile/profile_temp.png"}),e.jsxs(u,{children:[e.jsx(s,{variant:"h5",sx:{color:"text.secondary",marginTop:"10px",marginBottom:"10px",textIndent:"20px",fontWeight:500,textAlign:"center"},children:t?`${t.firstName} ${t.lastName}`:"Hiba a lekérés során!"}),e.jsx(s,{variant:"h6",sx:{color:"text.secondary",marginTop:"10px",marginBottom:"10px",textIndent:"20px",fontWeight:300,textAlign:"center"},children:"Beosztás: "+(t==null?void 0:t.role)})]}),e.jsx(T,{})]})})})}const v=a(localStorage.getItem("token")).role;x.createRoot(document.getElementById("root")).render(e.jsxs(e.Fragment,{children:[e.jsx(p,{role:v}),e.jsx(N,{})]}));
