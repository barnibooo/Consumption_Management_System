import{n as _,j as e,d as ee,r as s,e as n,C as oe,T as i,p as g,h as te,f as re}from"./AuthService-D1aEyyWh.js";import{S as le}from"./Send-CTj9Mk2s.js";import{M as u,p as O,r as ae,N as se}from"./RefreshService-BkjTwjQ-.js";import{S as M,A as C}from"./Snackbar-D43d_GBE.js";import{T as ne}from"./ThemeProvider-DseDVMsF.js";import{F as h,I as f,S as m}from"./Select-Bkp5DD7O.js";import{B as I}from"./Button-CRJhtSgO.js";const de=_(e.jsx("path",{d:"M1 21h15.01v.98c0 .56-.45 1.01-1.01 1.01H2.01c-.56 0-1.01-.45-1.01-1.01zm19.49 2.31L16 18.83V19H1v-2h13.17l-2-2H1c0-3.24 2.46-5.17 5.38-5.79l-5.7-5.7L2.1 2.1 13 13l2 2 6.9 6.9zM10.17 13l-2-2c-1.42.06-3.52.56-4.55 2zM23 5h-5V1h-2v4h-5l.23 2h9.56l-1 9.97 1.83 1.83z"}),"NoFoodOutlined"),ie=ee({palette:{mode:"dark",primary:{main:"#90caf9"},secondary:{main:"#f48fb1"},background:{default:"#121212",paper:"#1e1e1e"},text:{primary:"#ffffff",secondary:"#b0bec5"}}}),z=document.createElement("style");z.textContent=`
  body {
    background-color: #0f1827;
    color: #d5d6d6;
    margin: 0;
    padding: 0;
  }
`;document.head.appendChild(z);function ce(){const[S,y]=s.useState([]),[w,A]=s.useState([]),[P,B]=s.useState([]),[W,F]=s.useState([]),[N,D]=s.useState([]),[E,H]=s.useState([]),[T,R]=s.useState([]),[L,q]=s.useState([]),[K,x]=s.useState(!1),[p,d]=s.useState(null),[l,v]=s.useState(["","","","","","","",""]),[V,j]=s.useState(!0),[$,b]=s.useState(!1);if(s.useEffect(()=>{(async()=>{const r=localStorage.getItem("token");if(!r){x(!0);return}try{const a=O(r);if(!a||a.role!=="Admin"){x(!0);return}if(!await te()){x(!0);return}await ae()}catch{x(!0),j(!1)}})()},[]),K)return localStorage.setItem("isUnauthorizedRedirect","true"),window.location.href="/",null;s.useEffect(()=>{(async()=>{const r=localStorage.getItem("token");if(!r){window.location.href="/login";return}try{const a=await g.get("https://localhost:5000/api/MenuItems",{headers:{Authorization:`Bearer ${r}`}}),k=a.data.filter(o=>o.category==="Leves"&&o.isAvailable===!0);y(k.map(o=>o.name));const U=a.data.filter(o=>o.category==="Előétel"&&o.isAvailable===!0);A(U.map(o=>o.name));const J=a.data.filter(o=>o.category==="Főétel"&&o.isAvailable===!0);B(J.map(o=>o.name));const G=a.data.filter(o=>o.category==="Hamburger"&&o.isAvailable===!0);F(G.map(o=>o.name));const Q=a.data.filter(o=>o.category==="Pizza"&&o.isAvailable===!0);D(Q.map(o=>o.name));const X=a.data.filter(o=>o.category==="Desszert"&&o.isAvailable===!0);H(X.map(o=>o.name));const Y=a.data.filter(o=>o.category==="Ital"&&o.isAvailable===!0);R(Y.map(o=>o.name));const Z=a.data.filter(o=>o.category==="Kávé"&&o.isAvailable===!0);q(Z.map(o=>o.name))}catch{d("Hiba történt az adatok betöltése közben!")}finally{j(!1)}})()},[]);const c=t=>r=>{const a=[...l];a[t]=r.target.value,v(a)};return V?e.jsx(n,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:e.jsx(oe,{size:120,sx:{color:"#bfa181"}})}):p?e.jsx(n,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:e.jsx(M,{open:!!p,autoHideDuration:6e3,onClose:()=>{d(null),window.location.href="/"},children:e.jsx(C,{onClose:()=>{d(null),window.location.href="/"},severity:"error",variant:"filled",sx:{width:"100%"},children:"Hiba történt az adatok betöltése közben!"})})}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{theme:ie,children:e.jsxs(n,{sx:{padding:4},children:[e.jsx(i,{variant:"h4",textAlign:"center",sx:{marginBottom:4,fontWeight:400},children:"Napi Ajánlat Kezelő"}),e.jsxs(n,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[e.jsxs(n,{sx:{width:{xs:"100%",sm:"40%"},marginBottom:2,marginRight:{xs:0,sm:2}},children:[e.jsx(i,{variant:"h6",textAlign:"left",fontWeight:350,marginBottom:2,children:"Leves"}),e.jsxs(h,{fullWidth:!0,required:!0,children:[e.jsx(f,{id:"food-select-label-0",sx:{color:"#d5d6d6","&.Mui-focused":{color:"#bfa181"}},children:"Leves választása"}),e.jsx(m,{labelId:"food-select-label-0",id:"food-select-0",value:l[0]||"",label:"Leves választása",onChange:c(0),MenuProps:{PaperProps:{sx:{backgroundColor:"#0f1827","& .MuiMenuItem-root":{color:"#d5d6d6","&.Mui-selected":{backgroundColor:"#1a2738"},"&.Mui-selected:hover":{backgroundColor:"#1a2738"}}}}},sx:{color:"#d5d6d6",backgroundColor:"#0f1827","&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#d5d6d6"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiSelect-icon":{color:"#d5d6d6"}},children:S.map((t,r)=>e.jsx(u,{value:t,children:t},r))})]})]}),e.jsxs(n,{sx:{width:{xs:"100%",sm:"40%"},marginBottom:2,marginRight:{xs:0,sm:2}},children:[e.jsx(i,{variant:"h6",textAlign:"left",fontWeight:350,marginBottom:2,children:"Előétel"}),e.jsxs(h,{fullWidth:!0,required:!0,children:[e.jsx(f,{id:"food-select-label-1",sx:{color:"#d5d6d6","&.Mui-focused":{color:"#bfa181"}},children:"Előétel választása"}),e.jsx(m,{labelId:"food-select-label-1",id:"food-select-1",value:l[1]||"",label:"Előétel választása",onChange:c(1),MenuProps:{PaperProps:{sx:{backgroundColor:"#0f1827","& .MuiMenuItem-root":{color:"#d5d6d6","&.Mui-selected":{backgroundColor:"#1a2738"},"&.Mui-selected:hover":{backgroundColor:"#1a2738"}}}}},sx:{color:"#d5d6d6",backgroundColor:"#0f1827","&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#d5d6d6"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiSelect-icon":{color:"#d5d6d6"}},children:w.map((t,r)=>e.jsx(u,{value:t,children:t},r))})]})]}),e.jsxs(n,{sx:{width:{xs:"100%",sm:"40%"},marginBottom:2,marginRight:{xs:0,sm:2}},children:[e.jsx(i,{variant:"h6",textAlign:"left",fontWeight:350,marginBottom:2,children:"Főétel"}),e.jsxs(h,{fullWidth:!0,required:!0,children:[e.jsx(f,{id:"food-select-label-2",sx:{color:"#d5d6d6","&.Mui-focused":{color:"#bfa181"}},children:"Főétel választása"}),e.jsx(m,{labelId:"food-select-label-2",id:"food-select-2",value:l[2]||"",label:"Főétel választása",onChange:c(2),MenuProps:{PaperProps:{sx:{backgroundColor:"#0f1827","& .MuiMenuItem-root":{color:"#d5d6d6","&.Mui-selected":{backgroundColor:"#1a2738"},"&.Mui-selected:hover":{backgroundColor:"#1a2738"}}}}},sx:{color:"#d5d6d6",backgroundColor:"#0f1827","&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#d5d6d6"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiSelect-icon":{color:"#d5d6d6"}},children:P.map((t,r)=>e.jsx(u,{value:t,children:t},r))})]})]}),e.jsxs(n,{sx:{width:{xs:"100%",sm:"40%"},marginBottom:2,marginRight:{xs:0,sm:2}},children:[e.jsx(i,{variant:"h6",textAlign:"left",fontWeight:350,marginBottom:2,children:"Hamburger"}),e.jsxs(h,{fullWidth:!0,required:!0,children:[e.jsx(f,{id:"food-select-label-3",sx:{color:"#d5d6d6","&.Mui-focused":{color:"#bfa181"}},children:"Hamburger választása"}),e.jsx(m,{labelId:"food-select-label-3",id:"food-select-3",value:l[3]||"",label:"Hamburger választása",onChange:c(3),MenuProps:{PaperProps:{sx:{backgroundColor:"#0f1827","& .MuiMenuItem-root":{color:"#d5d6d6","&.Mui-selected":{backgroundColor:"#1a2738"},"&.Mui-selected:hover":{backgroundColor:"#1a2738"}}}}},sx:{color:"#d5d6d6",backgroundColor:"#0f1827","&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#d5d6d6"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiSelect-icon":{color:"#d5d6d6"}},children:W.map((t,r)=>e.jsx(u,{value:t,children:t},r))})]})]}),e.jsxs(n,{sx:{width:{xs:"100%",sm:"40%"},marginBottom:2,marginRight:{xs:0,sm:2}},children:[e.jsx(i,{variant:"h6",textAlign:"left",fontWeight:350,marginBottom:2,children:"Pizza"}),e.jsxs(h,{fullWidth:!0,required:!0,children:[e.jsx(f,{id:"food-select-label-4",sx:{color:"#d5d6d6","&.Mui-focused":{color:"#bfa181"}},children:"Pizza választása"}),e.jsx(m,{labelId:"food-select-label-4",id:"food-select-4",value:l[4]||"",label:"Pizza választása",onChange:c(4),MenuProps:{PaperProps:{sx:{backgroundColor:"#0f1827","& .MuiMenuItem-root":{color:"#d5d6d6","&.Mui-selected":{backgroundColor:"#1a2738"},"&.Mui-selected:hover":{backgroundColor:"#1a2738"}}}}},sx:{color:"#d5d6d6",backgroundColor:"#0f1827","&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#d5d6d6"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiSelect-icon":{color:"#d5d6d6"}},children:N.map((t,r)=>e.jsx(u,{value:t,children:t},r))})]})]}),e.jsxs(n,{sx:{width:{xs:"100%",sm:"40%"},marginBottom:2,marginRight:{xs:0,sm:2}},children:[e.jsx(i,{variant:"h6",textAlign:"left",fontWeight:350,marginBottom:2,children:"Desszert"}),e.jsxs(h,{fullWidth:!0,required:!0,children:[e.jsx(f,{id:"food-select-label-5",sx:{color:"#d5d6d6","&.Mui-focused":{color:"#bfa181"}},children:"Desszert választása"}),e.jsx(m,{labelId:"food-select-label-5",id:"food-select-5",value:l[5]||"",label:"Desszert választása",onChange:c(5),MenuProps:{PaperProps:{sx:{backgroundColor:"#0f1827","& .MuiMenuItem-root":{color:"#d5d6d6","&.Mui-selected":{backgroundColor:"#1a2738"},"&.Mui-selected:hover":{backgroundColor:"#1a2738"}}}}},sx:{color:"#d5d6d6",backgroundColor:"#0f1827","&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#d5d6d6"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiSelect-icon":{color:"#d5d6d6"}},children:E.map((t,r)=>e.jsx(u,{value:t,children:t},r))})]})]}),e.jsxs(n,{sx:{width:{xs:"100%",sm:"40%"},marginBottom:2,marginRight:{xs:0,sm:2}},children:[e.jsx(i,{variant:"h6",textAlign:"left",fontWeight:350,marginBottom:2,children:"Ital"}),e.jsxs(h,{fullWidth:!0,required:!0,children:[e.jsx(f,{id:"food-select-label-6",sx:{color:"#d5d6d6","&.Mui-focused":{color:"#bfa181"}},children:"Ital választása"}),e.jsx(m,{labelId:"food-select-label-6",id:"food-select-6",value:l[6]||"",label:"Ital választása",onChange:c(6),MenuProps:{PaperProps:{sx:{backgroundColor:"#0f1827","& .MuiMenuItem-root":{color:"#d5d6d6","&.Mui-selected":{backgroundColor:"#1a2738"},"&.Mui-selected:hover":{backgroundColor:"#1a2738"}}}}},sx:{color:"#d5d6d6",backgroundColor:"#0f1827","&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#d5d6d6"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiSelect-icon":{color:"#d5d6d6"}},children:T.map((t,r)=>e.jsx(u,{value:t,children:t},r))})]})]}),e.jsxs(n,{sx:{width:{xs:"100%",sm:"40%"},marginBottom:2,marginRight:{xs:0,sm:2}},children:[e.jsx(i,{variant:"h6",textAlign:"left",fontWeight:350,marginBottom:2,children:"Kávé"}),e.jsxs(h,{fullWidth:!0,required:!0,children:[e.jsx(f,{id:"food-select-label-7",sx:{color:"#d5d6d6","&.Mui-focused":{color:"#bfa181"}},children:"Kávé választása"}),e.jsx(m,{labelId:"food-select-label-7",id:"food-select-7",value:l[7]||"",label:"Kávé választása",onChange:c(7),MenuProps:{PaperProps:{sx:{backgroundColor:"#0f1827","& .MuiMenuItem-root":{color:"#d5d6d6","&.Mui-selected":{backgroundColor:"#1a2738"},"&.Mui-selected:hover":{backgroundColor:"#1a2738"}}}}},sx:{color:"#d5d6d6",backgroundColor:"#0f1827","&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#d5d6d6"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#bfa181"},"& .MuiSelect-icon":{color:"#d5d6d6"}},children:L.map((t,r)=>e.jsx(u,{value:t,children:t},r))})]})]})]}),e.jsxs(n,{sx:{marginTop:4,textAlign:"center"},children:[e.jsx(I,{variant:"contained",color:"secondary",endIcon:e.jsx(le,{}),sx:{m:2,backgroundColor:"#BFA181",width:{xs:"80%",md:"30%",lg:"20%"},color:"#d5d6d6","&.Mui-disabled":{backgroundColor:"#9e9386",color:"#d5d6d6"}},onClick:async()=>{const t={soupName:l[0],appetizerName:l[1],mainCourseName:l[2],hamburgerName:l[3],pizzaName:l[4],dessertName:l[5],drinkName:l[6],coffeeName:l[7]};try{await g.delete("https://localhost:5000/api/DailySpecials",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),await g.post("https://localhost:5000/api/DailySpecials",t,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),v(["","","","","","","",""]),b(!0)}catch(r){if(r.response)switch(r.response.status){case 500:d("Szerver hiba történt!");break;default:d("Hiba történt a napi ajánlat frissítése közben!")}else d("Nem sikerült kapcsolódni a szerverhez!");b(!1)}},disabled:l.some(t=>t===""),children:"Napi ajánlat módosítása"}),e.jsx(I,{variant:"contained",color:"secondary",endIcon:e.jsx(de,{}),sx:{m:2,backgroundColor:"#BFA181",width:{xs:"80%",md:"30%",lg:"20%"},color:"#d5d6d6","&.Mui-disabled":{backgroundColor:"#9e9386",color:"#d5d6d6"}},onClick:async()=>{try{await g.delete("https://localhost:5000/api/DailySpecials",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),v(["","","","","","","",""]),b(!0)}catch(t){if(t.response)switch(t.response.status){case 500:d("Szerver hiba történt!");break;default:d("Hiba történt a napi ajánlat frissítése közben!")}else d("Nem sikerült kapcsolódni a szerverhez!");b(!1)}},children:"Napi ajánlat törlése"})]})]})}),e.jsx(M,{open:!!p,autoHideDuration:6e3,onClose:()=>{d(null),window.location.href="/"},children:e.jsx(C,{onClose:()=>{d(null),window.location.href="/"},severity:"error",variant:"filled",sx:{width:"100%"},children:p})}),e.jsx(M,{open:$,autoHideDuration:2e3,onClose:()=>{b(!1),window.location.reload()},children:e.jsx(C,{onClose:()=>{b(!1),window.location.reload()},severity:"success",variant:"filled",sx:{width:"100%","& .MuiAlert-message":{color:"#d5d6d6"}},children:"Sikeres napi ajánlat frissítés!"})})]})}const ue=O(localStorage.getItem("token")).role;re.createRoot(document.getElementById("root")).render(e.jsxs(e.Fragment,{children:[e.jsx(se,{role:ue}),e.jsx(ce,{})]}));
